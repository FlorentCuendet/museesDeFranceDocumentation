# 4. La gestion des recherches dans CollectiveAccess
Il y a quatre façons de rechercher des enregistrements dans CollectiveAccess :

- la **recherche rapide (quicksearch)** : présente sur tous les écrans à l'aide d'une petite case de recherche.
- la **recherche simple** : au sein d'un même type d'enregistrement
- la **recherche avancée** : pour croiser des critères et faire des opérations avancées
- **parcourir** : navigation par lien au sein du catalogue

## La recherche rapide
Quicksearch, situé sur le côté droit de la barre de navigation principale, est le moyen le plus rapide pour rechercher tous les enregistrements de votre collection. Ce type de recherche exécute une requête plein texte dans la base de données, et affiche les résultats en fonction des types d'enregistrement (objets, entités, endroits, événements, collections, localisations et lots d'objets).

Cette recherche porte sur toutes les tables (une recherche "armoire" renverra les objets intitulés Armoire, les entités comme M. Armoire, les emplacements de stockage comme Armoire B23, etc.)

Vous pouvez également réaliser une recherche très précise en indiquant le nom du champ dans lequel chercher la valeur.

*Par exemple :*
*- si vous souhaitez rechercher l’objet dont le numéro d’inventaire commence par 2015 :\*\* idno:2015\* \*\**

Le résultat affiche tous les enregistrements contenant le mot ou la phrase saisie et sont classés par type d’enregistrement (objets, entités, lieux…).

Chaque enregistrement est listé avec son titre et son identifiant. Pour afficher un objet en particulier, cliquez sur le lien.

Une fois un enregistrement affiché, vous pouvez toujours revenir à votre résultat de recherche précédent, en cliquant sur le lien « Résultats » dans le coin supérieur gauche de l'inspecteur. 

## La recherche simple
Pour effectuer une recherche simple :

*  allez sur le menu « Chercher » dans la barre de navigation principale. Ce menu vous propose d'effectuer une recherche ciblée selon un type connu (lots, objets, entités, emplacements, collections, occurrences...) et fournit une recherche plus encadrée que la recherche rapide.
* Sélectionnez ensuite un type dans le menu déroulant. Si le document décrit un objet, sélectionnez Objets, s'il décrit une personne, sélectionnez les entités, et ainsi de suite. 
* Vous accédez ensuite à une case de recherche dans laquelle vous pouvez saisir un ou plusieurs mots, utiliser la troncature ou saisir une recherche précisant le nom du champ suivi de la valeur recherchée.

*Exemples :*
*-  -  : nous obtenons en résultat de recherche tous les objets de la base*
*-  \_pan \* \_ : le résultat obtenu donne tous les objets dont un des mots commence par pan (panier, panière,…)*
*- objectProductionDate : 19 \* * : tous les objets dont la date de production commence par 19 ; c’est-à-dire tous les objets produits au 19ème siècle.
* Vous avez  la possibilité d’utiliser les opérateurs booléens ET / OU.
* Vous pouvez également composer une recherche simple complexe, sans utiliser de grille pré-remplie pour combiner des critères ; toutefois ceci impose de connaître les références des champs à utiliser. 

Voici à titre d'information une recherche valide :
*created:"11/2015" AND preferred\_labels.name:"recueil"* ; cet exemple comporte deux recherches dans des champs spécifiques, et le fait que les deux doivent être valides ensemble.

Une fois la sélection faite, les résultats des dernières recherches effectuées s'affichent automatiquement sous l'onglet « Historique » (cet onglet s'affiche dès que vous avez exécuté une recherche). Les résultats en fonction du type d’enregistrement.
* Pour exécuter une nouvelle recherche, saisissez un mot-clé, une phrase, ou une chaîne de caractères dans le champ de recherche, puis cliquez sur « Rechercher ».
* 
## La recherche avancée
La recherche avancée est une recherche multi-critère à l'aide de champs présélectionnés, vous complétez ensuite les valeurs souhaitées avant de lancer la recherche.

Utilisation d'un formulaire de recherche avancée existant :

* allez sur l'onglet « Chercher » dans la barre de navigation principale, et sélectionnez un type (objet, entités, lieux,...).
* cliquez sur l'option « Recherche avancée » dans la barre de navigation locale.
* sélectionnez le formulaire que vous souhaitez utiliser dans le menu déroulant dans l'inspecteur où vous trouverez tous les formulaires de recherche avancée de votre profil.
* saisissez les termes de votre recherche dans les champs appropriés, puis cliquez sur le bouton « Rechercher » afin d’exécuter la requête.
* le résultat s'affiche sous le formulaire de recherche. 
*Pour une meilleure visibilité du résultat, vous pouvez masquer le formulaire de recherche en cliquant sur « masquer le formulaire de recherche » et sur « montrer le formulaire de recherche » pour l'afficher de nouveau.*
* en cliquant sur le signe + vous pouvez afficher  ou masquer chaque groupe à tout moment au cours de la recherche.
* pour changer de formulaire de recherche, sélectionnez la forme souhaitée dans le menu déroulant. Les termes saisis seront reportés dans le nouveau formulaire
*Exemple :*
*- Rechercher toutes les entités créées durant un intervalle de date*

## Menu Parcourir
« Parcourir »  vous permet de trier, de filtrer  et de naviguer  parmi les enregistrements de la base.

* allez sur le menu Chercher
* sélectionnez le type d’enregistrement (objets, entités, collections…) parmi lequel vous souhaitez naviguer
* cliquez sur Parcourir

Chercher \> Objets \> Parcourir vous propose de naviguer au sein des objets par :

- titres
- collections
- statuts d’accès
- média lié
- types (tableau, sculpture, médaille, mobilier…)
- entités liées
- statuts (accessibles au public, restreint…)

Choisissez un terme à partir de la fenêtre de navigation, et tous les enregistrements associés apparaîtront. 

Si votre recherche ne peut être affinée par un autre terme, un second menu déroulant sera alors disponible dans la barre de contrôle.

Si vous souhaitez modifier le filtre, cliquez sur le symbole X pour supprimer l'attribut et sélectionnez en un nouveau.

## Affiner les résultats
Les résultats de recherche sont affinés, de manière successive et sans limite de cumul, à l'aide de facettes.

L’icône « Affiner les résultats » vous permet de filtrer les résultats obtenus lors de votre recherche par :

- Titres D'objets
- Média Lié
- Entités
- Collections
- Types
- Statuts D'accès

 *NB : cette liste de filtres est paramétrable : nous pouvons par exemple ajouter comme filtres les techniques / matériaux, domaines…*

Vous pouvez cumuler les filtres.

Exemple :

- nous effectuons la recherche :  « Date de production = 19ème siècle » et obtenons 8 objets
- en appliquant le filtre « média lié », nous obtenons 3 objets = seuls 3 objets ont une représentation média rattachée
- en appliquant le filtre « statuts d’accès = accessible au public » : nous trouvons 1 objet 

## Affichage et tri des résultats
En cliquant sur l’icône « Options d’affichage », vous pouvez ajuster les paramètres de tri, de mise en page et les formats d’affichages des résultats.

### Tri des résultats
Par défaut, les résultats de la recherche sont triés par pertinence. 
Un clic sur « options d’affichage » vous permet de modifier ce tri.

La plupart des métadonnées présentes lors la saisie d’un objet vous sont proposées au tri : identifiant, désignation, domaine, date…

Le tri est croissant (de A à Z) ou décroissant (de Zà A) selon votre choix.

CollectiveAccess vous permet également de modifier le nombre d’objets affichés par page.

Par ailleurs, vous pouvez cliquer sur l’en-tête des colonnes présentant les résultats, dans le cas d’une mise en page liste ou modifiable.

### Mise en page
CollectiveAccess propose, en résultat de recherche, les modes  suivants :

- **rempli** : mise en page type « cartel » contenant la vignette du média rattaché ainsi que tous les champs remplis 
- **liste** : mise en page des résultat sous forme de liste, triés selon le tri sélectionné, avec les champs présents dans le format d’affichage choisi
- **vignettes** : les résultats sont affichés sous forme de planches de vignettes
- **modifiable** : selon ses droits d’accès, l’utilisateur peut modifier les informations de l’objet directement depuis l’interface de recherche (ex : correction orthographique…)

Un clic sur un objet vous permet de visualiser son résumé ou d’entrer en modification (arrivée par défaut sur le résumé des champs déjà saisis) selon vos droits.

Un clic sur l’image associée à la notice vous permet de la visualiser, de l’agrandir, de l’annoter…

### Formats d’affichages
Dans le cas où la recherche ne renvoie qu’un objet, la notice s’affiche directement dans le format d’affichage sélectionné précédemment par l’utilisateur.

Si vous souhaitez modifier l’affichage des résultats de recherches, cliquez sur le pictogramme « Options d’affichages, situé en haut à droite du résultat de recherche.

Le menu déroulant vous propose ensuite au choix plusieurs formats d’affichages. Ces affichages sont créés et modifiés au sein du menu Gérer \> Mes affichages.

## Tirez le meilleur parti de votre recherche !

### Les opérateurs booléens et jokers
Les recherches de bases (simples) ou avancées dans CollectiveAccess supportent les opérateurs booléens et les jokers (substitution de caractères, troncature).

Pour utiliser les opérateurs booléens, il suffit d'ajouter les termes suivants (en majuscule) dans votre expression de recherche :

- AND : permet de cibler la recherche d'enregistrements comprenant seulement les deux termes séparés par ET
- OR : élargit la recherche en récupérant les enregistrements contenant les mots séparés par le OU.
- NOT : cible la recherche en éliminant un terme de la recherche.
- () : les parenthèses permettent de combiner des mots.
- ‘’ '' : les guillemets associent des termes pour créer une phrase, il s'agit en fait d'une recherche sur une chaîne de caractères.
- *  : la troncature est symbolisée par l'astérisque. Il permet de rechercher des termes tronqués.
## Historique des recherches
Vous retrouvez l’historique de toutes les recherches effectuées dans la colonne de gauche sous « Historique ».
## Enregistrez votre propre formulaire de recherche
La fonction de recherche avancée dans CollectiveAccess vous donne la possibilité de créer autant de recherches personnalisées que vous avez de besoins. 
### Enregistrez vos recherches
Depuis les interfaces de recherche simple ou de recherche avancée, vous pouvez sauvegarder votre requête afin de la réitérer quand vous le souhaitez.
- en recherche simple : un bouton « Enregistrer la recherche » vous permet de sauvegarder la recherche effectuée.
- en recherche avancée : un bouton « Sauver la recherche sous » vous permet d’enregistrer la recherche multi-critère effectuée
Vous la retrouvez ensuite dans la colonne de gauche au sein d’une liste déroulante sous « recherches enregistrées ».
## Export et impression des résultats de recherche
### Export d’un résultat
CollectiveAcces vous permet d'exporter les résultats de vos recherches.
Pour exporter le résultat de votre recherche ou une sélection d’enregistrements :
* exécutez une recherche
* en cliquant sur le bouton « Option d’affichage », sélectionnez votre mise en page, et le format d'affichage souhaité
* cliquez sur « Outils d’export »
* dans la partie « télécharger les résultats en tant que », sélectionnez le type d’export souhaité dans le menu déroulant
* cliquez sur « Télécharger »
* le fichier s’ouvre dans l’application appropriée
CollectiveAccess permet l’export des objets aux formats .DOCX, .XLSX (ces documents peuvent également s’ouvrir avec OpenOffice ou LibreOffice) et .PDF.
### Imprimer des étiquettes
Pour lancer l’impression d’étiquettes, ou de cartels d’objets :
* exécutez une recherche
* cliquez sur le bouton « Outils d’export »
* sélectionnez le type d'étiquettes dans le menu déroulant sous « Imprimer les étiquettes des résultats »
* cliquez sur « Imprimer »
* un document pdf est alors généré
La plupart des types d'étiquettes sont des tailles standards de marque Avery ; toutefois, vous pouvez créer vos propres étiquettes en éditant le fichier de configuration des formats d'étiquettes ou en sollicitant le service d’assistance hotline d’idéesculture. 
## Mise des objets en ensemble
*voir chapitre La gestion des ensembles dans CollectiveAccess*
CollectiveAccess vous permet de créer des ensembles uniques pour organiser et gérer vos objets.
Grâce aux ensembles, vous pouvez gérer la publication d’objets sur votre site web, gérer les flux de catalogage et les groupes d'objets.
Les ensembles vous permettent :
- d’effectuer des traitements par lots pour tout un ensemble d’enregistrements,
- de procéder à la mise à l’inventaire d’un ensemble d’objet
- d’affecter un ensemble d’objets à une campagne de récolement 
- de créer des publications publiques
### Pour créer un nouvel ensemble et y ajouter un ou plusieurs objets :
* dans la colonne de gauche de l’interface de recherche, cliquez sur le bouton ￼Ensemble
* nommez ce nouvel ensemble dans la zone de saisie « créer l’ensemble »
* choisissez dans le menu déroulant de placer tous les objets du résultat de recherche dans l’ensemble ou uniquement les enregistrements cochés
* si vous souhaitez réaliser un traitement  par lot, cochez « Ouverture de l'ensemble pour une modification par lot »
(*cf. le chapitre « traitements par lots » pour plus d’informations*)
* cliquez sur « créer »
* l’ensemble est désormais créé.
Vous retrouvez ensuite tous les ensembles créés dans le menu déroulant présent sous « recherche par set », dans toutes les interfaces de recherche.
### Pour gérer vos ensembles
Vous retrouvez tous vos ensembles dans Gérer \> Mes ensembles.
- pour supprimer un ensemble cliquez sur le bouton « supprimer »
- pour le modifier et ajouter des objets ou en retirer, cliquez sur le bouton « modifier » 
	* rendez vous dans l’écran **Items** : vous visualisez tous les objets présents dans cet  ensemble 
	* pour retirer un objet, cliquez sur la croix.
	* pour ajouter un objet, recherchez le dans la zone « ajouter l’objet »  : indiquez le titre, ou l’identifiant de l’objet recherché ; cliquez sur l’enregistrement souhaité à partir de la liste de résultats
*Vous pouvez également modifier les métadonnées d’un objet à partir de cet écran en cliquant sur l’icône « Modifier »*